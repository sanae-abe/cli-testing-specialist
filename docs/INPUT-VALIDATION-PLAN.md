# Input Validation Testing Implementation Plan
# CLI Testing Specialist v2.5.0

**ä½œæˆæ—¥**: 2025-11-10
**å¯¾è±¡æ©Ÿèƒ½**: å…¥åŠ›æ¤œè¨¼ãƒ†ã‚¹ãƒˆå¼·åŒ–ï¼ˆPhase 2.5ï¼‰
**å„ªå…ˆåº¦**: é«˜ï¼ˆå“è³ªä¿è¨¼ã®ä¸­æ ¸æ©Ÿèƒ½ï¼‰

---

## ğŸ¯ æ¦‚è¦

ç¾åœ¨ã®CLI Testing Specialistã«ã¯ã€ä»¥ä¸‹ã®é‡è¦ãªå…¥åŠ›æ¤œè¨¼ãƒ†ã‚¹ãƒˆãŒæ¬ ã‘ã¦ã„ã¾ã™ï¼š

1. **æ•°å€¤ã‚ªãƒ—ã‚·ãƒ§ãƒ³å€¤æ¤œè¨¼**: ç¯„å›²ãƒã‚§ãƒƒã‚¯ã€å‹ãƒã‚§ãƒƒã‚¯ã€å¢ƒç•Œå€¤ãƒ†ã‚¹ãƒˆ
2. **ãƒ‘ã‚¹ã‚ªãƒ—ã‚·ãƒ§ãƒ³å€¤æ¤œè¨¼**: å­˜åœ¨ç¢ºèªã€æ¨©é™æ¤œè¨¼ã€ç›¸å¯¾ãƒ‘ã‚¹å‡¦ç†
3. **åˆ—æŒ™å‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³å€¤æ¤œè¨¼**: è¨±å¯å€¤ãƒªã‚¹ãƒˆã€ç„¡åŠ¹å€¤æ¤œå‡º
4. **ç ´å£Šçš„æ“ä½œç¢ºèª**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ç¢ºèªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã€--yes/--forceãƒ•ãƒ©ã‚°

ã“ã‚Œã‚‰ã¯**CLIãƒ„ãƒ¼ãƒ«å“è³ªä¿è¨¼ã®åŸºç¤**ã§ã‚ã‚Šã€å®Ÿè£…å„ªå…ˆåº¦ã¯**æœ€é«˜ãƒ¬ãƒ™ãƒ«**ã§ã™ã€‚

---

## ğŸ“ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ

### æ–°è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

```
cli-testing-specialist/
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ test-generator.sh (æ‹¡å¼µ)
â”‚   â”‚   â””â”€â”€ generate_input_validation_tests()  # æ–°è¦é–¢æ•°
â”‚   â””â”€â”€ option-analyzer.sh (æ–°è¦)              # ã‚ªãƒ—ã‚·ãƒ§ãƒ³å‹æ¨è«–ã‚¨ãƒ³ã‚¸ãƒ³
â”œâ”€â”€ templates/
â”‚   â”œâ”€â”€ input-validation.fragment (æ–°è¦)       # å…¥åŠ›æ¤œè¨¼ãƒ†ã‚¹ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”‚   â””â”€â”€ destructive-ops.fragment (æ–°è¦)        # ç ´å£Šçš„æ“ä½œãƒ†ã‚¹ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â””â”€â”€ docs/
    â””â”€â”€ INPUT-VALIDATION-GUIDE.md (æ–°è¦)       # åˆ©ç”¨ã‚¬ã‚¤ãƒ‰
```

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

```
1. CLIåˆ†æï¼ˆcli-analyzer.shï¼‰
   â””â”€> ã‚ªãƒ—ã‚·ãƒ§ãƒ³æƒ…å ±æŠ½å‡ºï¼ˆ--port, --input, --format ç­‰ï¼‰

2. ã‚ªãƒ—ã‚·ãƒ§ãƒ³å‹æ¨è«–ï¼ˆoption-analyzer.shï¼‰â€»æ–°è¦
   â”œâ”€> æ•°å€¤å‹åˆ¤å®š: --port, --timeout, --max-size
   â”œâ”€> ãƒ‘ã‚¹å‹åˆ¤å®š: --input, --output, --config
   â”œâ”€> åˆ—æŒ™å‹åˆ¤å®š: --format, --lang, --level
   â””â”€> ç ´å£Šçš„æ“ä½œåˆ¤å®š: delete, remove, overwrite

3. ãƒ†ã‚¹ãƒˆç”Ÿæˆï¼ˆtest-generator.shï¼‰
   â”œâ”€> generate_input_validation_tests()
   â”‚   â”œâ”€> æ•°å€¤ç¯„å›²ãƒ†ã‚¹ãƒˆ
   â”‚   â”œâ”€> ãƒ‘ã‚¹å­˜åœ¨ãƒ»æ¨©é™ãƒ†ã‚¹ãƒˆ
   â”‚   â””â”€> åˆ—æŒ™å‹å€¤ãƒ†ã‚¹ãƒˆ
   â””â”€> generate_destructive_ops_tests()
       â””â”€> ç¢ºèªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæ¤œè¨¼

4. BATSå®Ÿè¡Œ
   â””â”€> å…¥åŠ›æ¤œè¨¼ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
```

---

## ğŸ”§ å®Ÿè£…è©³ç´°

### 1. option-analyzer.shï¼ˆæ–°è¦ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼‰

#### æ©Ÿèƒ½
- ã‚ªãƒ—ã‚·ãƒ§ãƒ³åã‹ã‚‰ãƒ‡ãƒ¼ã‚¿å‹ã‚’æ¨è«–
- ãƒ’ãƒ¥ãƒ¼ãƒªã‚¹ãƒ†ã‚£ãƒƒã‚¯åˆ†æï¼ˆåå‰ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ï¼‰
- ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿æŠ½å‡ºï¼ˆç¯„å›²ã€è¨±å¯å€¤ãƒªã‚¹ãƒˆï¼‰

#### ä¸»è¦é–¢æ•°

##### infer_option_type()
```bash
infer_option_type() {
    local option_name="$1"
    local option_description="${2:-}"

    # æ•°å€¤å‹ãƒ‘ã‚¿ãƒ¼ãƒ³
    if [[ "$option_name" =~ (port|timeout|max|min|limit|size|count|retry) ]]; then
        echo "numeric"
        return 0
    fi

    # ãƒ‘ã‚¹å‹ãƒ‘ã‚¿ãƒ¼ãƒ³
    if [[ "$option_name" =~ (path|file|input|output|dir|directory|config) ]]; then
        echo "path"
        return 0
    fi

    # åˆ—æŒ™å‹ãƒ‘ã‚¿ãƒ¼ãƒ³
    if [[ "$option_name" =~ (format|type|mode|lang|level|style) ]]; then
        echo "enum"
        return 0
    fi

    # ãƒ–ãƒ¼ãƒ«å‹ãƒ‘ã‚¿ãƒ¼ãƒ³
    if [[ "$option_name" =~ (verbose|quiet|debug|force|yes|no|enable|disable) ]]; then
        echo "boolean"
        return 0
    fi

    # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: æ–‡å­—åˆ—å‹
    echo "string"
    return 0
}
```

##### extract_numeric_constraints()
```bash
extract_numeric_constraints() {
    local option_name="$1"

    case "$option_name" in
        --port|--http-port|--https-port)
            echo '{"min": 1, "max": 65535, "type": "integer"}'
            ;;
        --timeout)
            echo '{"min": 0, "max": 3600, "type": "integer"}'
            ;;
        --percentage|--ratio)
            echo '{"min": 0, "max": 100, "type": "float"}'
            ;;
        *)
            echo '{"min": null, "max": null, "type": "integer"}'
            ;;
    esac
}
```

##### extract_enum_values()
```bash
extract_enum_values() {
    local option_name="$1"
    local help_text="${2:-}"

    # ãƒ˜ãƒ«ãƒ—ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰è¨±å¯å€¤ã‚’æŠ½å‡º
    # ä¾‹: "Format: json|xml|yaml" â†’ ["json", "xml", "yaml"]

    case "$option_name" in
        --format)
            echo '["json", "xml", "yaml", "csv", "html"]'
            ;;
        --log-level|--level)
            echo '["debug", "info", "warn", "error", "fatal"]'
            ;;
        --lang|--language)
            echo '["en", "ja", "es", "fr", "de", "zh"]'
            ;;
        *)
            # ãƒ˜ãƒ«ãƒ—ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰å‹•çš„æŠ½å‡ºï¼ˆæ­£è¦è¡¨ç¾ï¼‰
            if [[ -n "$help_text" ]]; then
                echo "$help_text" | grep -oP '\[.*?\]' | jq -R 'split("|")' 2>/dev/null || echo '[]'
            else
                echo '[]'
            fi
            ;;
    esac
}
```

### 2. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ: input-validation.fragment

```bash
#!/usr/bin/env bats
#
# Input Validation Tests
# Generated by CLI Testing Specialist Agent
#

# æ•°å€¤ã‚ªãƒ—ã‚·ãƒ§ãƒ³æ¤œè¨¼ãƒ†ã‚¹ãƒˆ
@test "[input-validation] {{OPTION_NAME}} accepts valid range" {
    run "$CLI_BINARY" {{OPTION_NAME}} {{VALID_VALUE}}
    [ "$status" -eq 0 ]
}

@test "[input-validation] {{OPTION_NAME}} rejects negative value" {
    run "$CLI_BINARY" {{OPTION_NAME}} -1
    [ "$status" -ne 0 ]
    [[ "$output" =~ (invalid|error|out of range) ]] || \
    [[ "$stderr" =~ (invalid|error|out of range) ]]
}

@test "[input-validation] {{OPTION_NAME}} rejects out-of-range value" {
    run "$CLI_BINARY" {{OPTION_NAME}} {{INVALID_HIGH_VALUE}}
    [ "$status" -ne 0 ]
}

@test "[input-validation] {{OPTION_NAME}} rejects non-numeric value" {
    run "$CLI_BINARY" {{OPTION_NAME}} "abc"
    [ "$status" -ne 0 ]
}

# ãƒ‘ã‚¹ã‚ªãƒ—ã‚·ãƒ§ãƒ³æ¤œè¨¼ãƒ†ã‚¹ãƒˆ
@test "[input-validation] {{PATH_OPTION}} validates file existence" {
    local nonexistent="/tmp/nonexistent-file-$(date +%s).txt"
    run "$CLI_BINARY" {{PATH_OPTION}} "$nonexistent"

    # ãƒ•ã‚¡ã‚¤ãƒ«ä¸å­˜åœ¨ã®ã‚¨ãƒ©ãƒ¼ã‚’æœŸå¾…
    # Note: ä¸€éƒ¨ã®CLIã¯ãƒ•ã‚¡ã‚¤ãƒ«ä¸å­˜åœ¨ã§ã‚‚æˆåŠŸã™ã‚‹å ´åˆã‚ã‚Š
    if [ "$status" -ne 0 ]; then
        [[ "$output" =~ (not found|does not exist|no such file) ]] || \
        [[ "$stderr" =~ (not found|does not exist|no such file) ]]
    fi
}

@test "[input-validation] {{PATH_OPTION}} rejects path traversal" {
    run "$CLI_BINARY" {{PATH_OPTION}} "../../../etc/passwd"

    # ãƒ‘ã‚¹ãƒˆãƒ©ãƒãƒ¼ã‚µãƒ«ã‚’æ¤œå‡ºã—ã¦ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™ã“ã¨ã‚’æœŸå¾…
    # ã¾ãŸã¯ã€æ­£è¦åŒ–ã•ã‚ŒãŸãƒ‘ã‚¹ã¨ã—ã¦å‡¦ç†ã•ã‚Œã‚‹
    [ "$status" -ne 0 ] || ! [[ "$output" =~ root: ]]
}

# åˆ—æŒ™å‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³æ¤œè¨¼ãƒ†ã‚¹ãƒˆ
@test "[input-validation] {{ENUM_OPTION}} accepts valid value" {
    run "$CLI_BINARY" {{ENUM_OPTION}} {{VALID_ENUM_VALUE}}
    [ "$status" -eq 0 ]
}

@test "[input-validation] {{ENUM_OPTION}} rejects invalid value" {
    run "$CLI_BINARY" {{ENUM_OPTION}} "invalid-value-xyz"
    [ "$status" -ne 0 ]
    [[ "$output" =~ (invalid|unknown|unsupported) ]] || \
    [[ "$stderr" =~ (invalid|unknown|unsupported) ]]
}

# å¢ƒç•Œå€¤ãƒ†ã‚¹ãƒˆ
@test "[input-validation] {{OPTION_NAME}} boundary value min" {
    run "$CLI_BINARY" {{OPTION_NAME}} {{MIN_VALUE}}
    [ "$status" -eq 0 ]
}

@test "[input-validation] {{OPTION_NAME}} boundary value max" {
    run "$CLI_BINARY" {{OPTION_NAME}} {{MAX_VALUE}}
    [ "$status" -eq 0 ]
}

@test "[input-validation] {{OPTION_NAME}} boundary value min-1" {
    run "$CLI_BINARY" {{OPTION_NAME}} $(({{MIN_VALUE}} - 1))
    [ "$status" -ne 0 ]
}

@test "[input-validation] {{OPTION_NAME}} boundary value max+1" {
    run "$CLI_BINARY" {{OPTION_NAME}} $(({{MAX_VALUE}} + 1))
    [ "$status" -ne 0 ]
}
```

### 3. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ: destructive-ops.fragment

```bash
#!/usr/bin/env bats
#
# Destructive Operations Tests
# Generated by CLI Testing Specialist Agent
#

@test "[destructive-ops] {{COMMAND}} requires confirmation without --yes flag" {
    # æ¨™æº–å…¥åŠ›ã« "no" ã‚’æ¸¡ã—ã¦ã‚­ãƒ£ãƒ³ã‚»ãƒ«
    run bash -c "echo 'no' | $CLI_BINARY {{COMMAND}} {{TARGET}}"

    # ç¢ºèªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’æœŸå¾…
    [[ "$output" =~ (confirm|are you sure|yes/no|y/n) ]] || skip "No confirmation prompt detected"

    # æ“ä½œãŒã‚­ãƒ£ãƒ³ã‚»ãƒ«ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
    [ "$status" -ne 0 ] || [[ "$output" =~ (cancelled|aborted) ]]
}

@test "[destructive-ops] {{COMMAND}} with --yes flag skips confirmation" {
    # --yes ãƒ•ãƒ©ã‚°ã§ç¢ºèªã‚¹ã‚­ãƒƒãƒ—
    run "$CLI_BINARY" {{COMMAND}} {{TARGET}} --yes

    # ç¢ºèªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãªã—ã§å®Ÿè¡Œã•ã‚Œã‚‹ã“ã¨ã‚’æœŸå¾…
    ! [[ "$output" =~ (confirm|are you sure|yes/no) ]]
}

@test "[destructive-ops] {{COMMAND}} with --force flag skips confirmation" {
    # --force ãƒ•ãƒ©ã‚°ã§ç¢ºèªã‚¹ã‚­ãƒƒãƒ—
    run "$CLI_BINARY" {{COMMAND}} {{TARGET}} --force

    # ç¢ºèªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãªã—ã§å®Ÿè¡Œã•ã‚Œã‚‹ã“ã¨ã‚’æœŸå¾…
    ! [[ "$output" =~ (confirm|are you sure|yes/no) ]]
}

@test "[destructive-ops] {{COMMAND}} shows warning message" {
    run bash -c "echo 'yes' | $CLI_BINARY {{COMMAND}} {{TARGET}}"

    # è­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’æœŸå¾…
    [[ "$output" =~ (warning|caution|destructive|irreversible) ]] || \
        skip "No warning message detected"
}
```

### 4. test-generator.sh æ‹¡å¼µ

#### generate_input_validation_tests()

```bash
generate_input_validation_tests() {
    local analysis_json="$1"
    local output_dir="$2"

    log DEBUG "Generating input validation tests"

    # ã‚ªãƒ—ã‚·ãƒ§ãƒ³å‹æ¨è«–
    local options_json
    options_json=$(analyze_option_types "$analysis_json")

    # å„ã‚ªãƒ—ã‚·ãƒ§ãƒ³å‹ã”ã¨ã«ãƒ†ã‚¹ãƒˆç”Ÿæˆ
    local test_cases=""

    # æ•°å€¤å‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³
    local numeric_options
    numeric_options=$(echo "$options_json" | jq -r '.numeric[]' 2>/dev/null)

    while IFS= read -r option; do
        [[ -z "$option" ]] && continue
        test_cases+=$(generate_numeric_validation_tests "$option")
    done <<< "$numeric_options"

    # ãƒ‘ã‚¹å‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³
    local path_options
    path_options=$(echo "$options_json" | jq -r '.path[]' 2>/dev/null)

    while IFS= read -r option; do
        [[ -z "$option" ]] && continue
        test_cases+=$(generate_path_validation_tests "$option")
    done <<< "$path_options"

    # åˆ—æŒ™å‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³
    local enum_options
    enum_options=$(echo "$options_json" | jq -r '.enum[]' 2>/dev/null)

    while IFS= read -r option; do
        [[ -z "$option" ]] && continue
        test_cases+=$(generate_enum_validation_tests "$option")
    done <<< "$enum_options"

    # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç”Ÿæˆ
    TEST_MODULE="input-validation"
    TEST_CASES="$test_cases"

    local template_file="$TEMPLATE_DIR/bats-test.template"
    local output_file="$output_dir/08-input-validation.bats"
    substitute_template "$template_file" "$output_file"

    log INFO "Generated: $output_file"
    return 0
}
```

---

## ğŸ“Š å®Ÿè£…ã‚¹ã‚³ãƒ¼ãƒ—

### Phase 2.5.1ï¼ˆWeek 1-2ï¼‰: åŸºç›¤å®Ÿè£…

#### Week 1: ã‚ªãƒ—ã‚·ãƒ§ãƒ³å‹æ¨è«–ã‚¨ãƒ³ã‚¸ãƒ³
- [ ] `core/option-analyzer.sh` å®Ÿè£…
  - `infer_option_type()` - å‹æ¨è«–ãƒ­ã‚¸ãƒƒã‚¯
  - `extract_numeric_constraints()` - æ•°å€¤ç¯„å›²æŠ½å‡º
  - `extract_enum_values()` - åˆ—æŒ™å€¤æŠ½å‡º
  - `detect_destructive_operations()` - ç ´å£Šçš„æ“ä½œæ¤œå‡º
- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆä½œæˆ
  - `tests/unit/test-option-analyzer.bats`

#### Week 2: ãƒ†ã‚¹ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆ
- [ ] `templates/input-validation.fragment` ä½œæˆ
  - æ•°å€¤æ¤œè¨¼ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆ10ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰
  - ãƒ‘ã‚¹æ¤œè¨¼ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆ8ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰
  - åˆ—æŒ™å‹æ¤œè¨¼ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆ5ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰
- [ ] `templates/destructive-ops.fragment` ä½œæˆ
  - ç¢ºèªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ã‚¹ãƒˆï¼ˆ4ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰

### Phase 2.5.2ï¼ˆWeek 3-4ï¼‰: ãƒ†ã‚¹ãƒˆç”Ÿæˆçµ±åˆ

#### Week 3: test-generator.sh æ‹¡å¼µ
- [ ] `generate_input_validation_tests()` å®Ÿè£…
- [ ] `generate_destructive_ops_tests()` å®Ÿè£…
- [ ] æ—¢å­˜ã®`generate_bats_tests()`ã«çµ±åˆ

#### Week 4: çµ±åˆãƒ†ã‚¹ãƒˆãƒ»æ¤œè¨¼
- [ ] `/bin/ls`, `/bin/echo` ã§ã®å‹•ä½œç¢ºèª
- [ ] å®Ÿéš›ã®CLIãƒ„ãƒ¼ãƒ«ï¼ˆgit, dockerç­‰ï¼‰ã§ã®ãƒ†ã‚¹ãƒˆ
- [ ] ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹å¯¾å¿œ
- [ ] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆ
  - `docs/INPUT-VALIDATION-GUIDE.md`

---

## ğŸ›¡ï¸ ãƒªã‚¹ã‚¯è©•ä¾¡

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒªã‚¹ã‚¯ ğŸ”’

#### ğŸŸ¢ ä½ãƒªã‚¹ã‚¯: å…¥åŠ›æ¤œè¨¼ãƒ†ã‚¹ãƒˆè¿½åŠ 
- **ãƒªã‚¹ã‚¯**: ãƒ†ã‚¹ãƒˆè‡ªä½“ãŒè„†å¼±æ€§ã‚’å«ã‚€å¯èƒ½æ€§
- **è»½æ¸›ç­–**:
  - ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰å†…ã§ã®ã‚·ã‚§ãƒ«ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³é˜²æ­¢
  - ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«ã®å®‰å…¨ãªä½œæˆï¼ˆmktemp, umask 077ï¼‰
  - ãƒ‘ã‚¹ãƒˆãƒ©ãƒãƒ¼ã‚µãƒ«å¯¾ç­–ï¼ˆrealpathä½¿ç”¨ï¼‰

### æŠ€è¡“çš„ãƒªã‚¹ã‚¯ âš™ï¸

#### ğŸŸ¡ ä¸­ãƒªã‚¹ã‚¯: ã‚ªãƒ—ã‚·ãƒ§ãƒ³å‹æ¨è«–ã®ç²¾åº¦
- **ãƒªã‚¹ã‚¯**: ãƒ’ãƒ¥ãƒ¼ãƒªã‚¹ãƒ†ã‚£ãƒƒã‚¯åˆ†æã«ã‚ˆã‚‹èª¤åˆ¤å®š
- **è»½æ¸›ç­–**:
  - ä¿å®ˆçš„ãªæ¨è«–ï¼ˆä¸æ˜ãªå ´åˆã¯ã‚¹ã‚­ãƒƒãƒ—ï¼‰
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§ã®å‹æŒ‡å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³
  - False Positiveæ¤œå‡ºæ™‚ã®è­¦å‘Šè¡¨ç¤º

#### ğŸŸ¡ ä¸­ãƒªã‚¹ã‚¯: CLIãƒ„ãƒ¼ãƒ«æŒ™å‹•ã®å¤šæ§˜æ€§
- **ãƒªã‚¹ã‚¯**: ãƒ„ãƒ¼ãƒ«ã”ã¨ã«ç•°ãªã‚‹ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å½¢å¼
- **è»½æ¸›ç­–**:
  - æŸ”è»Ÿãªãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ï¼ˆæ­£è¦è¡¨ç¾ï¼‰
  - è¤‡æ•°ãƒ‘ã‚¿ãƒ¼ãƒ³ã®è¨±å®¹
  - ã‚¹ã‚­ãƒƒãƒ—æ©Ÿèƒ½ï¼ˆskip "..."ï¼‰ã®æ´»ç”¨

### é–‹ç™ºåŠ¹ç‡ãƒªã‚¹ã‚¯ ğŸ“Š

#### ğŸŸ¢ ä½ãƒªã‚¹ã‚¯: å®Ÿè£…æœŸé–“ï¼ˆ4é€±é–“ï¼‰
- **ãƒªã‚¹ã‚¯**: ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«é…å»¶
- **è»½æ¸›ç­–**:
  - é€±æ¬¡ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³è¨­å®š
  - MVPï¼ˆæœ€å°é™å®Ÿè£…ï¼‰å„ªå…ˆ
  - æ®µéšçš„ãƒªãƒªãƒ¼ã‚¹ï¼ˆv2.5.1, v2.5.2ï¼‰

---

## âœ… æ¤œè¨¼åŸºæº–

### æ©Ÿèƒ½åˆ¥æ¤œè¨¼

#### ã‚ªãƒ—ã‚·ãƒ§ãƒ³å‹æ¨è«–
- [ ] æ•°å€¤å‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®90%ä»¥ä¸Šã‚’æ­£ç¢ºã«æ¤œå‡º
- [ ] ãƒ‘ã‚¹å‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®85%ä»¥ä¸Šã‚’æ­£ç¢ºã«æ¤œå‡º
- [ ] åˆ—æŒ™å‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®80%ä»¥ä¸Šã‚’æ­£ç¢ºã«æ¤œå‡º
- [ ] False Positiveç‡ < 10%

#### ãƒ†ã‚¹ãƒˆç”Ÿæˆ
- [ ] æ•°å€¤æ¤œè¨¼ãƒ†ã‚¹ãƒˆ: 10ãƒ‘ã‚¿ãƒ¼ãƒ³/ã‚ªãƒ—ã‚·ãƒ§ãƒ³
- [ ] ãƒ‘ã‚¹æ¤œè¨¼ãƒ†ã‚¹ãƒˆ: 8ãƒ‘ã‚¿ãƒ¼ãƒ³/ã‚ªãƒ—ã‚·ãƒ§ãƒ³
- [ ] åˆ—æŒ™å‹æ¤œè¨¼ãƒ†ã‚¹ãƒˆ: 5ãƒ‘ã‚¿ãƒ¼ãƒ³/ã‚ªãƒ—ã‚·ãƒ§ãƒ³
- [ ] ç”Ÿæˆã•ã‚ŒãŸãƒ†ã‚¹ãƒˆã®æ§‹æ–‡ã‚¨ãƒ©ãƒ¼ç‡ 0%

#### å®Ÿè¡Œæ™‚æ¤œè¨¼
- [ ] ç”Ÿæˆã•ã‚ŒãŸãƒ†ã‚¹ãƒˆã®æˆåŠŸç‡ > 80%ï¼ˆæ—¢çŸ¥ã®ãƒã‚°ã‚ã‚‹CLIé™¤ãï¼‰
- [ ] ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚é–“ < 5ç§’ï¼ˆ50ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰
- [ ] ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ < 100MB

### çµ±åˆæ¤œè¨¼
- [ ] Phase 1/2æ©Ÿèƒ½ã¨ã®100%å¾Œæ–¹äº’æ›
- [ ] æ—¢å­˜ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆã¸ã®å½±éŸ¿ãªã—
- [ ] CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³æˆåŠŸ

---

## ğŸ“š æˆæœç‰©ä¸€è¦§

### ã‚³ã‚¢ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆ1ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
1. `core/option-analyzer.sh` - ã‚ªãƒ—ã‚·ãƒ§ãƒ³å‹æ¨è«–ã‚¨ãƒ³ã‚¸ãƒ³

### ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆ2ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
1. `templates/input-validation.fragment` - å…¥åŠ›æ¤œè¨¼ãƒ†ã‚¹ãƒˆ
2. `templates/destructive-ops.fragment` - ç ´å£Šçš„æ“ä½œãƒ†ã‚¹ãƒˆ

### ãƒ†ã‚¹ãƒˆï¼ˆ2ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
1. `tests/unit/test-option-analyzer.bats` - ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
2. `tests/integration/test-input-validation.bats` - çµ±åˆãƒ†ã‚¹ãƒˆ

### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆ1ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
1. `docs/INPUT-VALIDATION-GUIDE.md` - åˆ©ç”¨ã‚¬ã‚¤ãƒ‰

---

## ğŸš€ ãƒªãƒªãƒ¼ã‚¹æˆ¦ç•¥

### æ®µéšçš„ãƒªãƒªãƒ¼ã‚¹
- **v2.5.1** (Week 2å®Œäº†æ™‚): ã‚ªãƒ—ã‚·ãƒ§ãƒ³å‹æ¨è«–ã‚¨ãƒ³ã‚¸ãƒ³ + ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
- **v2.5.2** (Week 4å®Œäº†æ™‚): å®Œå…¨çµ±åˆç‰ˆ + ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

### v2.5.0æœ€çµ‚ãƒªãƒªãƒ¼ã‚¹åŸºæº–
- [ ] å…¨æ¤œè¨¼åŸºæº–ã‚¯ãƒªã‚¢
- [ ] 3ã¤ä»¥ä¸Šã®å®ŸCLIãƒ„ãƒ¼ãƒ«ã§ã®æ¤œè¨¼æˆåŠŸ
- [ ] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå®Œå…¨æ€§ 100%
- [ ] ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯åæ˜ 

---

## ğŸ“ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. **Week 1é–‹å§‹**: option-analyzer.sh ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—å®Ÿè£…
2. **æ¤œè¨¼**: /bin/ls ã® --help è§£æãƒ†ã‚¹ãƒˆ
3. **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆ**: input-validation.fragment åŸºæœ¬ç‰ˆ

Phase 2.5ã®æˆåŠŸã«ã‚ˆã‚Šã€CLI Testing Specialistã¯**æ¥­ç•Œæœ€é«˜æ°´æº–ã®å…¥åŠ›æ¤œè¨¼ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**ã¨ãªã‚Šã¾ã™ã€‚
